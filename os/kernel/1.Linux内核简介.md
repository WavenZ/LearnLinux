# 第一章 Linux内核简介

**操作系统**：指在整个系统中负责完成最基本功能和系统管理的那些部分。
 - 内核、设备驱动程度、启动引导程序、命令行shell或者其他种类的用户界面、基本的文件管理工具和系统工具。

**内核**：通常一个内核由以下系统服务程序组成：
 - 负责相应中断的中断服务程序
 - 负责管理多个进程从而分享处理器时间的调度程序
 - 负责管理进程地址空间的内存管理程序
 - 网络
 - 进程间通信等

**系统调用**：在系统汇中运行的应用程序通过系统调用来与内核通信。应用程序通常调用库函数（比如C库函数）再由库函数通过系统调用界面，让内核代其完成各种不同任务。

**中断服务程序**：当硬件设备想和系统通信的时候，它首先要发出一个异步的中断信号取打断处理器的执行，继而打断内核的执行。中断通常对应着一个中断号，内核通过这个中断号查找相应的中断服务程序，并调用这个程序响应和处理中断。（许多操作系统的中断服务程序，包括Linux的，都不在进程上下文中执行。它们在一个与所有进程都无关的、专门的中断上下文中运行。）

**处理器活动**：处理器任何时候都运行于下列三种情况下：
 - 运行于用户空间，执行用户进程。
 - 运行于内核空间，处于进程上下文，代表某个特定的进程执行。
 - 运行于内核空间，处理中断上下文，与任何进程无关，处理某个特定的中断。

**单内核与微内核**：
 - 单内核就是把它从整体上作为一个单独的大过程来实现，同时也运行在一个单独的地址空间上。
 - 微内核的功能被划分为多个独立的过程，每个过程叫做一个服务器。

（单内核中所有内核服务都在一个大内核地址空间上运行，因此内核之间的通信开销很小，大多数Unix系统都采用单内核；微内核的所有服务器都独立并运行在各自的地址空间上，因此需要采用进程间通信（IPC）机制来进行内核间的通信。）

Linux是一个单内核，内核运行在单独的内核空间地址上。同时，Linux汲取了微内核的精华，采用了模块化设计，不过，为了避免微内核设计上性能的缺陷，Linux让所有的事情都运行在内核态，直接调用函数，无需消息传递。


**Linux内核与传统的Unix系统之间的差异：**
 - **Linux支持动态加载内核模块**
 - **Linux支持对称对处理（SMP）机制**
 - **Linux内核可以抢占**
 - **Linux内核不区分线程和进程**
 - **Linux提供具有设备类的面向对象的设备模型、热插拔事件，以及用户空间的设备文件系统（sysfs）**
